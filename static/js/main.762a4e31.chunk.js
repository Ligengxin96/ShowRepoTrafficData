(this.webpackJsonpShowRepoTrafficData=this.webpackJsonpShowRepoTrafficData||[]).push([[0],{242:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var n=a(57),c=a.n(n),r=a(135),i=a(1),o=a(75),s=a(258),d=a(193),l=a.n(d),u=a(252),f=a(255),p=a(76),h=a(200),j=a(256),b=a(257),v=a(251),g=a(254),m=a(259),O=a(170),y=a.n(O),x=a(194),w=a.n(x),D=function(e){return w.a.get("".concat("https://www.ligengxin-server.top/getrepoinfo/v1/getrepoinfo","/").concat(e))},Y=a.p+"static/media/style.b90bb36d.less",M=a(46),S=function(e,t){return e?{title:{text:"".concat(t," ").concat(e.date[0]," To ").concat(e.date[e.date.length-1]," Traffic Data")},tooltip:{trigger:"axis"},legend:{data:["clones","views"],itemGap:7},grid:{top:"15%",left:"1%",right:"5%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:e.date}],yAxis:[{type:"value"}],dataZoom:[{type:"slider",show:!0,start:0,end:100},{type:"inside",start:0,end:100}],series:[{name:"view",type:"line",data:e.views},{name:"clones",type:"line",data:e.clones}]}:{}},k=function(e){var t=e.repoName,a=Object(i.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1],s=Object(i.useState)(null),d=Object(r.a)(s,2),O=d[0],x=d[1];return Object(i.useEffect)((function(){o(!0),D(t).then((function(e){var t=e.data.data;x(function(e){var t=e.viewsData,a=void 0===t?[]:t,n=e.clonesData,c=void 0===n?[]:n,r={views:[],clones:[],date:[]},i=a[a.length-1].date<c[c.length-1].date?a[a.length-1].date:c[c.length-1].date,o=a[0].date>c[0].date?a[0].date:c[0].date;for(i=y()(i),o=y()(o);i.isBefore(o);){var s,d;r.views.push({date:i.format("YYYY-MM-DD"),value:(null===(s=a.find((function(e){return i.isSame(e.date)})))||void 0===s?void 0:s.uniques)||0,type:"views"}),r.clones.push({date:i.format("YYYY-MM-DD"),value:(null===(d=c.find((function(e){return i.isSame(e.date)})))||void 0===d?void 0:d.uniques)||0,type:"clones"}),r.date.push(i.format("YYYY-MM-DD")),i=y()(i).add(1,"days")}return r}(void 0===t?[]:t))})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[t]),p.a([j.a,b.a,v.a,g.a,f.a,m.a]),Object(M.jsx)(u.a,{loading:c,className:Y.repoTrafficCard,bordered:!1,children:Object(M.jsx)(l.a,{style:{height:"50vh"},echarts:h,option:S(O,t),notMerge:!0,lazyUpdate:!0})})},T=a(253),C=function(e){var t=e.repos,a=void 0===t?[]:t,n=e.currentMenus,c=e.setCurrentMenus;return Object(M.jsx)(T.a,{onClick:function(e){c(e.key)},selectedKeys:n,theme:"dark",mode:"horizontal",children:a.map((function(e){return Object(M.jsx)(T.a.Item,{children:e},e)}))})},F=["FetchBingDailyImage","Ours-Album","FetchRepoTrafficData"],A=function(){var e=Object(i.useState)(F[0]),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(o.a,{children:Object(M.jsx)(C,{repos:F,currentMenus:a,setCurrentMenus:n})}),Object(M.jsx)(o.a,{children:Object(M.jsx)(s.a,{children:Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(i.Suspense,{fallback:null,children:Object(M.jsx)(k,{repoName:a})})})})})]})};a(242);c.a.render(Object(M.jsx)(A,{}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.762a4e31.chunk.js.map